global _start

SECTION .TEXT

_start:
SUB EAX, [UM]
SUB EAX, [UM]
SUB EAX, [ZERO]
MOV [DOIS], [LABEL]
SUB EAX, [OLD_DATA+2]
MOV [OLD_DATA], [LABEL+3]
MOV [OLD_DATA+2], [LABEL]
MOV [OLD_DATA+2], [LABEL+3]
JMP LABEL
CMP EAX, 0
JG LABEL+2
MOV EAX, EAX, 
IMULT [LABEL]
MOV EAX, EAX, 
CDQ
IDIV [LABEL+4]
MOV [EAX], LABEL
MOV [LABEL], EAX
MOV EAX, 1
INT 80h

SECTION .DATA

ZERO DD '0'
UM DD '1'

SECTION .BSS

OLD_DATA RESB 2
NEW_SPACE RESB 1
LABELNEW RESB 1
TEST RESB 1
NEW_DATA RESB 1
TMP_DATA RESB 4
